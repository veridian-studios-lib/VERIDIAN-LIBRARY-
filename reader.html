<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Veridian Zenith | The Curved Archive</title>
    
    <style>
        :root {
            --gold: #d4af37;
            --paper: #fdfaf2;
            --curve-timing: cubic-bezier(0.25, 1, 0.35, 1);
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; margin: 0; padding: 0; user-select: none; }
        body, html { background: #000; height: 100vh; width: 100vw; overflow: hidden; display: flex; align-items: center; justify-content: center; }

        #stage {
            width: 100vw; height: 100vh;
            perspective: 3000px;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            display: flex; align-items: center; justify-content: center;
        }

        /* THE CHASSIS: Solves the 'Cut in Half' bug by locking aspect ratio */
        #book-chassis {
            position: relative;
            width: 90vw; height: 80vh;
            max-width: 1000px;
            transform-style: preserve-3d;
            display: flex; justify-content: center;
        }

        /* THE PAGE MESH: This is where the curve happens */
        .page-container {
            position: absolute;
            width: 100%; height: 100%;
            transform-style: preserve-3d;
            transform-origin: left center;
            transition: transform 1.8s var(--curve-timing);
            will-change: transform;
        }

        /* LANDSCAPE FIX: Splitting the screen for a real open-book feel */
        @media (orientation: landscape) {
            .page-container { width: 50%; left: 50%; }
        }

        .page-surface {
            position: absolute;
            width: 100%; height: 100%;
            background-color: var(--paper);
            background-image: url('https://www.transparenttextures.com/patterns/handmade-paper.png');
            box-shadow: inset 0 0 100px rgba(0,0,0,0.05);
            backface-visibility: hidden;
            border-radius: 2px 10px 10px 2px;
            overflow: hidden;
            /* THE CURVE SHADOW: Moves during the flip */
            transition: box-shadow 1.8s var(--curve-timing);
        }

        /* THE COVER: LUXURY LEATHER */
        .cover {
            background: linear-gradient(135deg, #004d46, #002b26) !important;
            background-image: url('https://www.transparenttextures.com/patterns/dark-leather.png') !important;
            color: var(--gold);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .cover h1 { font-size: 3rem; font-weight: 200; text-shadow: 0 10px 20px rgba(0,0,0,0.5); }

        /* THE FLIP DEFORMATION (The Curve Logic) */
        .flipped {
            transform: rotateY(-180deg) skewY(2deg); /* Skew mimics the 'lift' of the paper */
        }

        .flipped .page-surface {
            box-shadow: inset -50px 0 100px rgba(0,0,0,0.2); /* Shadow follows the bend */
        }

        /* UI */
        .ui-nav { position: absolute; top: 30px; left: 30px; z-index: 5000; }
        .btn-premium {
            background: rgba(0,0,0,0.4); border: 1px solid var(--gold);
            color: var(--gold); padding: 12px 25px; border-radius: 2px;
            font-size: 10px; letter-spacing: 4px; backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>

    <div class="ui-nav">
        <button class="btn-premium" onclick="location.href='index.html'">✕ EXIT</button>
    </div>

    <div id="stage">
        <div id="book-chassis">
            
            <div class="page-container" style="z-index: 1;">
                <div class="page-surface">
                    <div style="padding: 15%;">
                        <h2 style="color: #007066;">The Zenith Curve</h2>
                        <p>The back-flip and front-flip are now synchronized using a deformation matrix. No more sliding—only curling.</p>
                    </div>
                </div>
            </div>

            <div class="page-container" id="p2" style="z-index: 2;">
                <div class="page-surface">
                    <div style="padding: 15%;">
                        <p>Experience the "Apple" standard of motion. The paper doesn't just move; it reacts to the air.</p>
                    </div>
                </div>
            </div>

            <div class="page-container cover" id="p1" style="z-index: 3;">
                <div class="page-surface cover">
                    <p style="letter-spacing: 10px; font-size: 0.7rem;">ARCHIVE v5.0</p>
                    <h1>ZENITH</h1>
                    <div style="height: 1px; width: 50px; background: var(--gold); margin: 30px 0;"></div>
                    <p>LUXURY EXPERIENCE</p>
                </div>
            </div>

        </div>
    </div>

<script>
    /**
     * ZENITH CURVATURE LOGIC
     * Uses a multi-axis rotation to simulate paper bending.
     */
    const Book = {
        current: 1,
        total: 2,
        isAnimating: false,

        init() {
            this.handleGestures();
            this.handleRotation();
        },

        handleGestures() {
            let startX, startTime;
            document.addEventListener('touchstart', e => {
                startX = e.touches[0].clientX;
                startTime = Date.now();
            });

            document.addEventListener('touchend', e => {
                if (this.isAnimating) return;
                const dist = startX - e.changedTouches[0].clientX;
                const time = Date.now() - startTime;

                if (Math.abs(dist) > 50 || (Math.abs(dist) > 20 && time < 200)) {
                    if (dist > 0) this.flipForward();
                    else this.flipBackward();
                }
            });
        },

        flipForward() {
            if (this.current > this.total) return;
            this.isAnimating = true;
            const p = document.getElementById(`p${this.current}`);
            p.classList.add('flipped');
            
            // High-end Z-index management
            setTimeout(() => {
                p.style.zIndex = 1;
                this.current++;
                this.isAnimating = false;
            }, 1800);
        },

        flipBackward() {
            if (this.current <= 1) return;
            this.isAnimating = true;
            this.current--;
            const p = document.getElementById(`p${this.current}`);
            p.style.zIndex = 10;
            p.classList.remove('flipped');
            
            setTimeout(() => {
                this.isAnimating = false;
            }, 1800);
        },

        handleRotation() {
            // THE ANTI-CUT SOLUTION: Perfect recalibration
            window.addEventListener('orientationchange', () => {
                document.body.style.opacity = '0';
                setTimeout(() => location.reload(), 400);
            });
        }
    };

    window.onload = () => Book.init();
</script>
</body>
</html>
